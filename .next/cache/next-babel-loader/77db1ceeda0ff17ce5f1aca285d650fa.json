{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\nimport fetch from 'isomorphic-unfetch';\nimport '../index.scss';\nimport AutoComplete from \"../components/autoComplete\";\n\nvar Home = function Home(props) {\n  var _React$useState = React.useState(props.list),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      list = _React$useState2[0],\n      setList = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      selectedPoke = _React$useState4[0],\n      setSelectedPoke = _React$useState4[1];\n\n  function _onSelect(poke) {\n    axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\n    axios.get(poke.url).then(function (res) {\n      setSelectedPoke(res.data);\n      window.location.hash = \"\";\n      window.location.hash = \"#poke-card\";\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"search-wrapper\"\n  }, __jsx(AutoComplete, {\n    options: list,\n    onSelect: function onSelect(poke) {\n      return _onSelect(poke);\n    }\n  })), selectedPoke !== null && __jsx(React.Fragment, null, __jsx(\"div\", {\n    id: 'poke-card',\n    className: \"poke-card\"\n  }, __jsx(\"h4\", null, selectedPoke.name.substr(0)[0].toUpperCase(), selectedPoke.name.substring(1).toLowerCase(), \" - \", selectedPoke.id >= 100 ? selectedPoke.id : selectedPoke.id >= 10 ? \"0\".concat(selectedPoke.id) : \"00\".concat(selectedPoke.id)), __jsx(\"div\", {\n    className: \"row mt-2\"\n  }, __jsx(\"div\", {\n    className: \"col-6\"\n  }, __jsx(\"p\", null, \"Normal\"), __jsx(\"img\", {\n    src: selectedPoke.sprites.front_default,\n    className: \"img-fluid\"\n  })), __jsx(\"div\", {\n    className: \"col-6\"\n  }, __jsx(\"p\", null, \"Shiny\"), __jsx(\"img\", {\n    src: selectedPoke.sprites.front_shiny,\n    className: \"img-fluid\"\n  }))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12 mt-2\"\n  }, __jsx(\"h5\", null, \"Abilities\"), __jsx(\"div\", {\n    className: \"row\"\n  }, selectedPoke.abilities.map(function (ability, i) {\n    return __jsx(\"div\", {\n      className: \"col-6 ability\"\n    }, __jsx(\"p\", null, \"Name: \", ability.ability.name));\n  })), __jsx(\"hr\", null)), __jsx(\"div\", {\n    className: \"col-12 mt-2\"\n  }, __jsx(\"h5\", null, \"Moves\"), __jsx(\"div\", {\n    className: \"row\"\n  }, selectedPoke.moves.map(function (move, index) {\n    return __jsx(\"div\", {\n      className: \"col-3 move\"\n    }, __jsx(\"p\", null, \"Name: \", move.move.name));\n  })))))));\n};\n\nHome.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var req, res, list;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref.req;\n            _context.next = 3;\n            return fetch('https://pokeapi.co/api/v2/pokemon?limit=964');\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            list = _context.sent;\n            return _context.abrupt(\"return\", {\n              list: list.results\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}